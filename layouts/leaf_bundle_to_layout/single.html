{{ define "main" }}
  <main class="content page-template page-{{ .Slug }}">
    <article class="post page">
      <header class="post-header">
        {{ with .Parent }}
          {{ if hugo.IsMultihost }}
          <a id="back-to-main-page" href="{{ .RelPermalink | relLangURL }}"><i class="fa fa-chevron-left" aria-hidden="true"></i> {{ or .Title .Site.Title }}</a>
          {{ else }}
        <a id="back-to-main-page" href="{{ .RelPermalink | relLangURL }}"><i class="fa fa-chevron-left" aria-hidden="true"></i> {{ or .Title .Site.Title }}</a>
          {{ end }}
        {{ end }}
      </header>
      <h1 class="post-title">{{ .Title }}</h1>
      <section class="post-content">
        {{ .Content }}
      </section>

      {{/* Check if `type` front matter changed the resource type */}}
      {{ with .ResourceType }}
        <div>Resource type: {{ . }} </div>
      {{ end }}
      {{/* And the Page.Type */}}
      {{ with .Page.Type }}
        <div>Page type: {{ . }} </div>
      {{ end }}
    </article>

    {{/* Render the resource's content directly */}}
    {{ $subpage := .Resources.Get "post_1.md" }}
    {{ if $subpage }}
      <article class="post page">
         <h2>{{ $subpage.Title }}</h2>
         <div>{{ $subpage.Content }}</div>
         {{/* Check if `type` front matter changed the resource type */}}
         {{ with $subpage.ResourceType }}
           <div>Resource type: {{ . }} </div>
         {{ end }}
         {{/* And the Page.Type */}}
         {{ with $subpage.Page.Type }}
           <div>Page type: {{ . }} </div>
         {{ end }}
      </article>
    {{ else }}
      <p>Debug: Resource 'post_1.md' not found.</p>
    {{ end }}

  </main>
{{ end }}
